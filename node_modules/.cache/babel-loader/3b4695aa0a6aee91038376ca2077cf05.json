{"ast":null,"code":"var _jsxFileName = \"/Users/linjiutao/Documents/\\u5927\\u5B78\\u68EE\\u6D3B/\\u4E8C\\u4E0B/\\u524D\\u7AEF\\u5DE5\\u7A0B/wk5/src/components/CartContainer.js\",\n    _s = $RefreshSig$();\n\nimport { Button, Select, Row, Col } from \"antd\";\nimport { useContext } from \"react\";\nimport { StoreContext } from \"../store\";\nimport { CartIcon } from \"./Icons\";\nimport { Link } from 'react-router-dom';\nimport { CART_ADD_ITEM, CART_REMOVE_ITEM } from \"../utils/constants\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst {\n  Option\n} = Select;\nexport default function CartContainer() {\n  _s();\n\n  const {\n    state: {\n      cartItems\n    },\n    dispatch\n  } = useContext(StoreContext);\n\n  const addToCart = (product, qty) => {\n    dispatch({\n      type: CART_ADD_ITEM,\n      payload: {\n        id: product.id,\n        name: product.name,\n        image: product.image,\n        price: product.price,\n        countInStock: product.countInStock,\n        qty\n      }\n    });\n  };\n\n  const removeFromCart = productId => {\n    dispatch({\n      type: CART_REMOVE_ITEM,\n      payload: productId\n    });\n  };\n\n  const getTotalPrice = () => {\n    return cartItems.length > 0 ? cartItems.reduce((sum, item) => sum + item.price * item.qty, 0) : 0;\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [cartItems.length === 0 ? /*#__PURE__*/_jsxDEV(Row, {\n      gutter: [32, 32],\n      children: \"Cart is empty\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 17\n    }, this) : cartItems.map(item => /*#__PURE__*/_jsxDEV(Row, {\n      gutter: [32, 32],\n      className: \"cart-item\",\n      children: [/*#__PURE__*/_jsxDEV(Col, {\n        lg: {\n          span: 8\n        },\n        xs: {\n          span: 24\n        },\n        className: \"cart-image\",\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          to: `/product/${item.id}`,\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: item.image,\n            alt: item.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        lg: {\n          span: 14\n        },\n        xs: {\n          span: 24\n        },\n        className: \"cart-item-info\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"cart-item-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"cart-name\",\n            children: item.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"product-qty\",\n            children: [\"Qty: \", \"   \", /*#__PURE__*/_jsxDEV(Select, {\n              defaultValue: item.qty,\n              className: \"select-style\",\n              onChange: val => addToCart(item, val),\n              children: [...Array(item.countInStock).keys()].map(x => /*#__PURE__*/_jsxDEV(Option, {\n                value: x + 1,\n                children: x + 1\n              }, x + 1, false, {\n                fileName: _jsxFileName,\n                lineNumber: 69,\n                columnNumber: 37\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"cart-item-end\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"cart-price\",\n            children: [\"$\", item.price * item.qty]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"cart-item-delete\",\n            onClick: () => removeFromCart(item.id),\n            children: \"x\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 21\n      }, this)]\n    }, item.id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 17\n    }, this)), /*#__PURE__*/_jsxDEV(Row, {\n      gutter: [32, 32],\n      className: \"cart-total-price-wrap\",\n      children: [\"Total\", /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cart-total-price\",\n        children: [\"$\", getTotalPrice()]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Row, {\n      gutter: [32, 32],\n      children: /*#__PURE__*/_jsxDEV(Button, {\n        className: \"cart-modal-btn\",\n        type: \"primary\",\n        children: [/*#__PURE__*/_jsxDEV(CartIcon, {\n          size: 20\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            marginLeft: 12\n          },\n          children: \"Start Checkout\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n}\n\n_s(CartContainer, \"SuYJB1t9iDIyVod94klQ8CitTmI=\");\n\n_c = CartContainer;\n\nvar _c;\n\n$RefreshReg$(_c, \"CartContainer\");","map":{"version":3,"sources":["/Users/linjiutao/Documents/大學森活/二下/前端工程/wk5/src/components/CartContainer.js"],"names":["Button","Select","Row","Col","useContext","StoreContext","CartIcon","Link","CART_ADD_ITEM","CART_REMOVE_ITEM","Option","CartContainer","state","cartItems","dispatch","addToCart","product","qty","type","payload","id","name","image","price","countInStock","removeFromCart","productId","getTotalPrice","length","reduce","sum","item","map","span","val","Array","keys","x","marginLeft"],"mappings":"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","sourcesContent":["import { Button, Select, Row, Col } from \"antd\";\nimport { useContext } from \"react\";\nimport { StoreContext } from \"../store\"\nimport { CartIcon } from \"./Icons\";\nimport { Link } from 'react-router-dom';\nimport { CART_ADD_ITEM, CART_REMOVE_ITEM } from \"../utils/constants\";\nconst { Option } = Select;\n\nexport default function CartContainer() {\n    const { state: { cartItems }, dispatch } = useContext(StoreContext);\n\n    const addToCart = (product, qty) => {\n        dispatch({\n            type: CART_ADD_ITEM,\n            payload: {\n                id: product.id,\n                name: product.name,\n                image: product.image,\n                price: product.price,\n                countInStock: product.countInStock,\n                qty,\n            },\n        });\n    };\n  \n    const removeFromCart = (productId) => {\n        dispatch({ type: CART_REMOVE_ITEM, payload: productId });\n    };\n\n    const getTotalPrice = () => {\n        return (cartItems.length > 0) ?\n            cartItems.reduce((sum, item) => sum + item.price * item.qty, 0) : 0;\n    };\n\n    return (\n        <>\n            {cartItems.length === 0 ? (\n                <Row gutter={[32, 32]}>Cart is empty</Row>\n            ) : (\n                cartItems.map(item => (\n                <Row gutter={[32, 32]} \n                    key={item.id} \n                    className=\"cart-item\"\n                >\n                    <Col \n                        lg={{ span: 8 }}\n                        xs={{ span: 24 }} \n                        className=\"cart-image\"\n                    >\n                        <Link to={`/product/${item.id}`}>\n                            <img src={item.image} alt={item.name} />\n                        </Link>\n                    </Col>\n                    <Col \n                        lg={{ span : 14 }}\n                        xs={{ span : 24 }}\n                        className=\"cart-item-info\"\n                    >\n                        <div className=\"cart-item-content\">\n                            <div className=\"cart-name\">{item.name}</div>\n                            <div className=\"product-qty\">\n                                Qty: {\"   \"}\n                                <Select\n                                defaultValue={item.qty}\n                                className=\"select-style\"\n                                onChange={(val) => addToCart(item, val)}\n                                >\n                                {[...Array(item.countInStock).keys()].map((x) => (\n                                    <Option key={x + 1} value={x + 1}>\n                                        {x + 1}\n                                    </Option>\n                                ))}\n                                </Select>\n                            </div>\n                        </div>\n                        <div className=\"cart-item-end\">\n                            <div className=\"cart-price\">\n                                ${item.price * item.qty}\n                            </div>\n                            <div className=\"cart-item-delete\" onClick={() => removeFromCart(item.id)}>\n                                x\n                            </div>\n                        </div>\n                    </Col>\n                </Row>\n                ))\n            )}\n            <Row gutter={[32, 32]} className=\"cart-total-price-wrap\">\n                \n                    Total\n                    <div className=\"cart-total-price\">${getTotalPrice()}</div>\n                \n            </Row>\n            <Row gutter={[32, 32]}>\n                <Button\n                    className=\"cart-modal-btn\"\n                    type=\"primary\"\n                >\n                    <CartIcon size={20} />\n                    <span style={{ marginLeft: 12 }}>Start Checkout</span>\n                </Button>\n            </Row>\n        </>\n    );\n}\n"]},"metadata":{},"sourceType":"module"}